<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Shop – CARVEFEST 2026 | Barbados Wood Carving Festival</title>

    <style>
        :root {
            --primary-color:    #287a3c;      /* Forest Green */
            --secondary-color:  #e67e22;      /* Accent Orange */
            --accent-color-1:   #8b5a2b;      /* Light Brown */
            --accent-color-2:   #5c3616;      /* Medium Brown */
            --light-color:      #f8f8f8;
            --dark-color:       #3a220c;
            --gray-color:       #777777;
            --light-gray:       #e4f3e8;      /* Soft Green background */
            --font-heading:     'Playfair Display', serif;
            --font-body:        'Poppins', sans-serif;
            --transition:       all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font-body);
            color: var(--dark-color);
            line-height: 1.7;
            background-color: var(--light-color);
        }

        .container {
            max-width: 1240px;
            margin: 0 auto;
            padding: 0 20px;
        }

        h1, h2, h3 {
            font-family: var(--font-heading);
            font-weight: 700;
            color: var(--dark-color);
        }

        h1 { font-size: 3.2rem; margin-bottom: 1.5rem; }
        h2 {
            font-size: 2.6rem;
            text-align: center;
            margin-bottom: 2.5rem;
            position: relative;
        }
        h2:after {
            content: '';
            display: block;
            width: 90px;
            height: 5px;
            background: var(--primary-color);
            margin: 20px auto 0;
            border-radius: 3px;
        }

        a { color: var(--primary-color); transition: var(--transition); }
        a:hover { color: var(--secondary-color); }

        header {
            background: rgba(255,255,255,0.97);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 3px 12px rgba(0,0,0,0.08);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 20px;
            max-width: 1240px;
            margin: 0 auto;
        }



        
    .header-buttons {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn-primary {
      background-color: var(--forest-green);
      color: white;
      border: none;
      width: 54px;
      height: 54px;
      border-radius: 50%;
      font-size: 1.6rem;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .btn-primary:hover {
      background-color: #1e5c2d;
      transform: scale(1.08);
    }

    .btn-primary[title]:hover::after {
      content: attr(title);
      position: absolute;
      bottom: -36px;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      white-space: nowrap;
      pointer-events: none;
      z-index: 10;
    }

        .main-nav {
            display: flex;
            list-style: none;
        }

        .main-nav li { margin-left: 32px; }

        .main-nav a {
            color: var(--dark-color);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-size: 0.95rem;
            position: relative;
        }

        .main-nav a:hover { color: var(--primary-color); }

        .main-nav a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--primary-color);
            bottom: -6px;
            left: 0;
            transition: var(--transition);
        }

        .main-nav a:hover:after { width: 100%; }

        .shop-section {
            padding: 120px 0 80px;
            background: var(--light-gray);
            margin-top: 85px;
        }

        .carvings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 30px;
        }

        .product-card {
            perspective: 1000px;
            position: relative;
            height: 440px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.14);
        }

        .product-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.7s;
            transform-style: preserve-3d;
        }

        .product-card:hover .product-card-inner {
            transform: rotateY(180deg);
        }

        .product-card-front,
        .product-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            overflow: hidden;
        }

        .product-card-front {
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
        }

        .product-card-back {
            background: var(--soft-green);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 25px;
            text-align: center;
            color: var(--dark-color);
        }

        .product-card img {
            width: 100%;
            height: 74%;
            object-fit: contain;
            background: #fdfdfd;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .product-card h3 {
            font-size: 1.28rem;
            margin: 8px 0 4px;
            text-align: center;
        }

        .product-card .artist {
            font-size: 0.95rem;
            color: var(--gray-color);
            margin-bottom: 8px;
        }

        .product-card .price {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 6px 0 12px;
        }

        .product-card button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .product-card button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .currency-toggle {
            margin-left: 24px;
            font-size: 0.98rem;
        }

        .currency-toggle select {
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            background: white;
            color: var(--dark-color);
            cursor: pointer;
        }

        .mobile-menu-toggle {
            display: none;
            font-size: 1.9rem;
            color: var(--dark-color);
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .carvings-grid { grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
            .product-card { height: 420px; }
        }

        @media (max-width: 768px) {
            .main-nav { display: none; }
            .main-nav.active {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: rgba(255,255,255,0.98);
                padding: 20px;
                box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            }
            .main-nav li { margin: 12px 0; text-align: center; }
            .mobile-menu-toggle { display: block; }
            .currency-toggle { margin-left: 16px; }
            .shop-section { padding: 90px 0 60px; margin-top: 75px; }
        }

        @media (max-width: 480px) {
            h1 { font-size: 2.4rem; }
            h2 { font-size: 2rem; }
            .product-card { height: 380px; }
            .product-card img { height: 70%; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-container">
            <img src="carvefest1.jpeg" alt="CARVEFEST 2026 Logo" style="height:90px;">
            <ul class="main-nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="program.html">Programme</a></li>
                <li><a href="sponsors.html">Partners</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="currency-toggle">
                <select id="currency-select" onchange="updateCurrency()">
                    <option value="BBD">BBD$</option>
                    <option value="USD">USD$</option>
                </select>
            </div>
            <a href="cart.html"><i class="fa-solid fa-cart-shopping" style="font-size: 28px; color: var(--dark-color);"></i></a>
            <div class="mobile-menu-toggle"><i class="fas fa-bars"></i></div>
        </div>
    </header>

    <div class="container">
        <section class="shop-section">
            <h2>Artisan Carvings for Sale</h2>
            <p style="text-align:center; color:var(--gray-color); margin-bottom:3rem; font-size:1.15rem;">
                Unique hand-carved pieces created by the featured artists of CARVEFEST 2026
            </p>
            <div class="carvings-grid" id="products"></div>
        </section>
    </div>

    <script>
        const productsContainer = document.getElementById('products');
        const exchangeRate = 2; // approximate: 1 USD ≈ 2 BBD

        // Using artist0.jpg to artist29.jpg
        const products = Array.from({ length: 30 }, (_, i) => ({
            name: `Artwork by Artist ${i}`,
            artistCaption: `Featured Artist ${i} – ${["Mahogany Masterpiece", "Abstract Relief", "Cultural Totem", "Marine Sculpture", "Heritage Panel", "Geometric Form", "Portrait Bust", "Functional Art", "Mixed Media", "Root Carving", "Reclaimed Wood", "Turned Vessel", "Flora & Fauna", "Expressionist", "Heritage Fusion", "Youth Creation", "Large Installation", "Intarsia Work", "Upcycled Piece", "Character Study", "Storytelling Relief", "Ocean Inspired", "Tool Mastery", "Texture Exploration", "Youth Collaboration", "Cedar Hybrid", "Symbolic Work", "Miniature Detail", "Emerging Talent", "Grand Finale"][i] || "Unique Carving"}`,
            priceBBD: 250 + i * 40,   // starting from BBD$250, increasing gradually
            image: `artists/artist${i}.jpg`
        }));

        async function renderProducts(currency = 'BBD') {
            productsContainer.innerHTML = '';
            for (const product of products) {
                const exists = await imageExists(product.image);
                if (!exists) continue;

                const price = currency === 'BBD' ? product.priceBBD : Math.round(product.priceBBD / exchangeRate);
                const symbol = currency === 'BBD' ? 'BBD $' : 'USD $';
                const priceFormatted = `${symbol}${price.toLocaleString()}`;

                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-card-inner">
                        <div class="product-card-front">
                            <img src="${product.image}" alt="${product.name}" loading="lazy">
                            <h3>${product.name}</h3>
                            <div class="artist">${product.artistCaption}</div>
                            <div class="price">${priceFormatted}</div>
                        </div>
                        <div class="product-card-back">
                            <h3>${product.name}</h3>
                            <div class="artist">${product.artistCaption}</div>
                            <div class="price">${priceFormatted}</div>
                            <button onclick="addToCart('${product.name.toLowerCase().replace(/\s+/g, '-')}', '${product.name}', ${price}, '${product.image}', '${currency}')">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                productsContainer.appendChild(card);
            }

            // Click anywhere on card (except button) to flip
            document.querySelectorAll('.product-card').forEach(card => {
                card.addEventListener('click', e => {
                    if (!e.target.closest('button')) {
                        card.querySelector('.product-card-inner').classList.toggle('flipped');
                    }
                });
            });
        }

        function imageExists(src) {
            return new Promise(resolve => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = src;
            });
        }

        function updateCurrency() {
            const currency = document.getElementById('currency-select').value;
            renderProducts(currency);
        }

        function addToCart(id, name, price, image, currency) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push({ id, name, price, image, currency });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`${name} added to cart!`);
            // Optional: window.location.href = 'cart.html';
        }

        // Initial render
        renderProducts();

        // Mobile menu
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.querySelector('.mobile-menu-toggle');
            const nav = document.querySelector('.main-nav');
            if (toggle && nav) {
                toggle.addEventListener('click', () => {
                    nav.classList.toggle('active');
                });
            }
        });
    </script>

</body>
</html>